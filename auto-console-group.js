/*!
 *  @module      auto-console-group v1.2.4
 *
 *  @description Automagically group console logs in the browser console.
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 *  @see         {@link https://github.com/davidjbradshaw/auto-console-group#readme}
 *  @license     MIT
 *
 *  @copyright  (c) 2025, David J. Bradshaw. All rights reserved.
 */

(function(n,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(n=typeof globalThis<"u"?globalThis:n||self,i(n.createAutoConsoleGroup={}))})(this,function(n){"use strict";const i="font-weight: normal;",h="font-weight: bold;",w="font-style: italic;",$=i+w,A="color: #135CD2;",I="color: #A9C7FB;",M="color: #1F1F1F;",v="color: #E3E3E3;",f="default",R="error",L="log",T={expand:!0,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},D={profile:0,profileEnd:0,timeStamp:0,trace:0},H=t=>{const o=t.event||t.defaultEvent;return o?`${o}`:""};function y(){const t=new Date,o=(d,a)=>t[d]().toString().padStart(a,"0"),s=o("getHours",2),u=o("getMinutes",2),c=o("getSeconds",2),l=o("getMilliseconds",3);return`@ ${s}:${u}:${c}.${l}`}const{fromEntries:B,keys:F}=Object,S=t=>[t,console[t]],N=t=>o=>[o,function(s){t[o]=s}],g=(t,o)=>B(F(t).map(o));function U(t={}){const o={},s={},u=[],c={...T,expand:!t.collapsed||T.expanded,...t};let l;function d(){u.length=0}function a(){delete c.event,d()}const j=()=>u.some(([e])=>e==="error"||e==="warn"),Q=()=>j()?!1:!!c.expand,k=()=>c.showTime?l:"";function G(){if(u.length===0){a();return}console[Q()?"group":"groupCollapsed"](`%c${c.label}%c ${H(c)} %c${k()}`,i,h,$);for(const[e,...r]of u)console[e](...r);console.groupEnd(),a()}function q(){l=y(),queueMicrotask(()=>queueMicrotask(G))}function p(e,...r){u.length===0&&q(),u.push([e,...r])}const x=e=>(...r)=>{let m;try{m=e(...r)}catch(E){if(Error.prototype.isPrototypeOf(E))p(R,E);else throw E}return m};function P(e=f){s[e]?s[e]+=1:s[e]=1,p(L,`${e}: ${s[e]}`)}function V(e=f){delete s[e]}function W(e=f){o[e]=performance.now()}function O(e=f,...r){const m=performance.now()-o[e];p(L,`${e}: ${m} ms`,...r)}function K(e=f){O(e),delete o[e]}const z=e=>[e,(...r)=>p(e,...r)];return{...g(c,N(c)),...g(console,z),...g(D,S),count:P,countReset:V,endAutoGroup:G,errorBoundary:x,purge:d,time:W,timeEnd:K,timeLog:O}}const C=typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,b=C?I:A,_=C?v:M;n.BOLD=h,n.FOREGROUND=_,n.HIGHLIGHT=b,n.ITALIC=w,n.NORMAL=i,n.default=U,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
